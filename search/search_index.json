{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to GoHome","text":"<p>go-home  is a lightweight, modular bridge for smart home devices, written in Go. It is designed to be fast, resource-efficient, and easy to deploy using Docker.</p>"},{"location":"#architecture","title":"Architecture","text":"<p>The system relies on a decoupled architecture using MQTT for communication between the Core and its Plugins.</p> <pre><code>graph LR\n    subgraph Plugins\n        A[Bluetooth Scanner] --&gt;|MQTT| B(Mosquitto Broker)\n        C[HomeKit Adapter] &lt;--&gt;|MQTT| B\n    end\n\n    subgraph Core Logic\n        B &lt;--&gt;|MQTT| D[GoHome Core]\n        D &lt;--&gt;|SQL| E[(SQLite DB)]\n    end\n\n    F[User / API] --&gt;|HTTP| D\n    C --&gt;|WiFi| G((Apple Home))</code></pre>"},{"location":"#components","title":"Components","text":"<p>The ecosystem consists of two main parts:</p> <ol> <li> <p>Core Service: The brain of the operation. It manages state, logic, and the API.</p> </li> <li> <p>Plugins: Microservices that act as adapters (Bluetooth, HomeKit, Zigbee, etc.) and communicate via MQTT.</p> </li> </ol>"},{"location":"#getting-started","title":"Getting Started","text":"<p>\ud83d\udc49 Ready to start? Go to the Installation page.</p>"},{"location":"installation/","title":"Installation","text":"<p>The recommended way to run <code>go-home</code> is using Docker Compose. This ensures that all services (Core, Broker, and Plugins) can communicate easily.</p>"},{"location":"installation/#1-prerequisites","title":"1. Prerequisites","text":"<ul> <li>Docker &amp; Docker Compose installed.</li> <li> Linux Environment: Highly recommended, especially for plugins requiring network_mode: host (like Bluetooth or HomeKit).</li> </ul>"},{"location":"installation/#2-configuration-deployment","title":"2. Configuration &amp; Deployment","text":"<p>Create a folder for your project and create a docker-compose.yml file.</p>"},{"location":"installation/#step-a-the-docker-compose-file","title":"Step A: The Docker Compose File","text":"<p>Copy the following configuration. It includes the MQTT Broker and the GoHome Core.</p> <pre><code>services:\n  # --- MQTT Broker ---\n  mqtt:\n    image: eclipse-mosquitto:2\n    container_name: gohome-mqtt\n    restart: unless-stopped\n    ports:\n      - \"1883:1883\"\n      - \"9001:9001\"\n    volumes:\n      - ./config:/mosquitto/config\n      - /volumes/gohome/mosquitto/data:/mosquitto/data\n      - /volumes/gohome/mosquitto/log:/mosquitto/log\n\n  # --- GoHome Core ---\n  gohome-core:\n    image: ghcr.io/bastien2203/go-home-core:latest\n    container_name: gohome-core\n    ports:\n      - \"9880:9880\"\n    depends_on:\n      - mqtt\n    volumes:\n      - ./data:/app/data\n    restart: unless-stopped\n    environment:\n      - BROKER_URL=tcp://mqtt:1883 # (1)!\n      - SQLITE_DB_PATH=./data/gohome.db\n      - API_PORT=9880\n      - ENV=production # (2)!\n      - SESSION_SECRET=change_me_please # (3)!\n      - DEBUG=false\n</code></pre> <ol> <li>Inside the Docker network, the hostname is the service name (mqtt). If running outside docker, use localhost.</li> <li>Use dev for non secure, production for stability and security (https, secure cookies, ...).</li> <li>Important: Change this string to something random to secure your session cookies.</li> </ol>"},{"location":"installation/#step-b-mosquitto-configuration","title":"Step B: Mosquitto Configuration","text":"<p>The broker needs a configuration file to allow connections. Create a file at <code>./config/mosquitto.conf</code>:</p> <pre><code>listener 1883\nallow_anonymous true\npersistence true\npersistence_location /mosquitto/data/\nlog_dest file /mosquitto/log/mosquitto.log\n</code></pre> <p>!!! warning \"Security Note\" allow_anonymous true is useful for local testing. For production usage exposed to the internet, consider setting up a username and password.</p>"},{"location":"installation/#3-start-the-server","title":"3. Start the server","text":"<p>Run the stack in detached mode:</p> <pre><code>docker-compose up -d\n</code></pre> <p>Now access dashboard at http://localhost:9880{ .md-button }.</p>"},{"location":"roadmap/","title":"Roadmap","text":"<p>This document outlines the planned features and improvements for the GoHome ecosystem.</p>"},{"location":"roadmap/#core","title":"Core","text":"<ul> <li> <p> Expanded Capabilities: Support more than just temp/humidity (e.g., Lights, Covers, Switches).</p> </li> <li> <p> Auto-Restart Logic: Automatically restart the scanner if a registered device stops responding (currently, scanner restart issues affect core availability).</p> </li> <li> <p> Data Sanitization:</p> <ul> <li> <p> Unify value formats in Core.</p> </li> <li> <p> Enforce strict constraints (e.g., ensure temperature is always float).</p> </li> <li> <p> reject malformed payloads from scanners.</p> </li> </ul> </li> </ul>"},{"location":"roadmap/#homekit-adapter","title":"Homekit Adapter","text":"<ul> <li> <p> Device Parity: Handle every device type possible within the HAP (HomeKit Accessory Protocol) spec.</p> </li> <li> <p> Frontend Integration: Retrieve the HomeKit QR code (or PIN) directly from the Core UI instead of container logs.</p> </li> </ul>"},{"location":"roadmap/#bluetooth-scanner","title":"Bluetooth Scanner","text":""},{"location":"roadmap/#bthome-parser","title":"BTHome Parser","text":"<ul> <li> Handle full BTHome V2 specification (all properties).</li> </ul>"},{"location":"roadmap/#switchbot-parser","title":"SwitchBot Parser","text":"<ul> <li> <p> Handle SwitchBot Bot (finger presser).</p> </li> <li> <p> Handle SwitchBot Curtain.</p> </li> <li> <p> Handle SwitchBot Contact Sensor.</p> </li> </ul>"},{"location":"roadmap/#future-adapters","title":"Future Adapters","text":"<ul> <li> InfluxDB: Adapter to export historical data to InfluxDB for visualization in Grafana.</li> </ul>"},{"location":"plugins/","title":"Plugins","text":"<p>Extend <code>go-home</code> capabilities by adding services to your <code>docker-compose.yml</code>.</p> <p>Each plugin runs as a separate container and communicates with the Core via MQTT.</p>"},{"location":"plugins/bluetooth-scanner/","title":"Bluetooth Scanner","text":"<p>Scann for bluetooth devices. Requires host network access (for BLE).</p>"},{"location":"plugins/bluetooth-scanner/#configuration","title":"Configuration","text":"<p>Add this service to your docker-compose.yml.</p> <p>!!! danger \"Critical Requirement\" This plugin must utilize the host network adapter to access bluetooth hardware.</p> <p><pre><code>gohome-bluetooth:\n    image: ghcr.io/bastien2203/go-home-bluetooth-scanner:latest\n    container_name: gohome-bluetooth\n    network_mode: host # (1)!\n    privileged: true\n    depends_on:\n      - mqtt\n      - gohome-core\n    volumes:\n      - /run/dbus:/run/dbus:ro # (2)!\n    restart: unless-stopped\n    environment:\n      - BROKER_URL=tcp://localhost:1883 # (3)!\n      - ENV=production\n      - DBUS_SYSTEM_BUS_ADDRESS=unix:path=/run/dbus/system_bus_socket\n</code></pre> 1. Required to access the physical Bluetooth controller. 2. Maps the host's D-Bus socket to the container, allowing communication with the BlueZ stack. 3. Since we use network_mode: host, we address the broker via localhost, not the docker service name.</p>"},{"location":"plugins/bluetooth-scanner/#supported-devices","title":"Supported Devices","text":"<p>Currently, the scanner supports the following protocols and capabilities:</p>"},{"location":"plugins/bluetooth-scanner/#bthome-standard","title":"BTHome Standard","text":"<p>Used by many DIY sensors and Xiaomi custom firmwares.</p> <ul> <li> SensorBattery</li> <li> SensorHumidity</li> <li> SensorTemperature</li> <li> SensorButtonEvent</li> </ul>"},{"location":"plugins/bluetooth-scanner/#switchbot","title":"SwitchBot","text":"<ul> <li>Meter (Thermometer/Hygrometer)</li> </ul>"},{"location":"plugins/homekit-adapter/","title":"HomeKit Adapter","text":"<p>The HomeKit Adapter acts as a bridge, exposing your GoHome devices to Apple devices (iPhone, iPad, Apple TV).</p>"},{"location":"plugins/homekit-adapter/#configuration","title":"Configuration","text":"<p>Add this service to your <code>docker-compose.yml</code>.</p> <p>!!! note \"mDNS Requirement\" HomeKit relies on mDNS (Bonjour) for discovery. This requires network_mode: host.</p> <pre><code>gohome-homekit:\n    image: ghcr.io/bastien2203/go-home-homekit-adapter:latest\n    container_name: gohome-homekit\n    mem_limit: 50m\n    network_mode: host\n    privileged: true\n    depends_on:\n      - mqtt\n      - gohome-core\n    volumes:\n      - ./homekit_data:/homekit_data # (1)!\n    restart: unless-stopped\n    environment:\n      - BROKER_URL=tcp://localhost:1883\n      - ENV=production\n      - INTERNET_INTERFACE=wlan0 # (2)!\n</code></pre> <ol> <li> <p>Persists pairing data. If you lose this folder, you will have to re-pair everything.</p> </li> <li> <p>Crucial: Set this to your actual network interface name (e.g., <code>eth0</code>, <code>wlan0</code>, <code>enp3s0</code>).</p> </li> </ol>"},{"location":"plugins/homekit-adapter/#capabilities","title":"Capabilities","text":"<p>Currently mapped capabilities between GoHome and HomeKit:</p> <ul> <li> CapabilityButtonEvent</li> <li> CapabilityBattery</li> <li> CapabilityHumidity</li> <li> CapabilityTemperature</li> </ul> <p>!!! tip \"Pairing\" Look at the container logs to find the pairing code or QR code when starting the service for the first time. bash docker logs gohome-homekit</p>"}]}